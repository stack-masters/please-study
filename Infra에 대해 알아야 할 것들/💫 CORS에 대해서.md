# ğŸ’« CORS(Cross-Origin Resource Sharing) ì´ë€?
<br />

![cors](https://github.com/stack-masters/please-study/assets/127307160/48910e34-58d0-4cca-8ab8-b1e441cc044e)

## CORSì˜ ê°œë…

CORSëŠ” ë‹¤ë¥¸ ë„ë©”ì¸ìœ¼ë¡œë¶€í„° ë¦¬ì†ŒìŠ¤ë¥¼ ê³µìœ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë©”ì»¤ë‹ˆì¦˜ì´ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì›¹ ë¸Œë¼ìš°ì €ëŠ” ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ ë™ì¼ì¶œì²˜ì •ì±…(Same-Origin Policy)ë¥¼ ë”°ë¥¸ë‹¤. ì´ ì •ì±…ì— ë”°ë¥´ë©´, ì›¹í˜ì´ì§€ëŠ” ë™ì¼í•œ ì¶œì²˜ì—ì„œ ë¡œë“œëœ ë¦¬ì†ŒìŠ¤ë§Œì„ ìš”ì²­í•  ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ, ì´ëŠ” ì›¹ì˜ ì“¸ë§Œí•œ ê°€ì¹˜ë¥¼ ì œí•œí•˜ê²Œ ë˜ëŠ”ë°, ì˜ˆë¥¼ ë“¤ì–´ APIë¥¼ ì‚¬ìš©í•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°™ì€ ê²½ìš°ì—ëŠ” ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ CORSê°€ ë„ì…ë˜ì—ˆë‹¤. CORSëŠ” ì›¹í˜ì´ì§€ê°€ ë‹¤ë¥¸ ë„ë©”ì¸ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì•ˆì „í•˜ê²Œ ìš”ì²­í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤.

## CORS ì‘ë™ë°©ì‹

CORSëŠ” ë¸Œë¼ìš°ì €ì™€ ì„œë²„ ì‚¬ì´ì— ì´ë£¨ì–´ì§„ë‹¤. ì›¹í˜ì´ì§€ê°€ ë‹¤ë¥¸ ë„ë©”ì¸ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•˜ë©´, ë¸Œë¼ìš°ì €ëŠ” ë¨¼ì € í•´ë‹¹ ì„œë²„ì— 'preflight request'ë¥¼ ë³´ë‚¸ë‹¤. ì´ ìš”ì²­ì€ ì‹¤ì œ ìš”ì²­ì„ ë³´ë‚´ê¸° ì „ì— ì„œë²„ê°€ CORSë¥¼ í—ˆìš©í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ë‹¤. ì„œë²„ëŠ” ì´ ìš”ì²­ì— ëŒ€í•´ 'Access-Control-Allow-Origin' ê°™ì€ CORS í—¤ë”ë¥¼ í¬í•¨í•œ ì‘ë‹µì„ ë³´ë‚¸ë‹¤. ì´ í—¤ë”ê°€ í—ˆìš©í•˜ëŠ” ë„ë©”ì¸ì´ ìš”ì²­í•œ ë„ë©”ì¸ê³¼ ì¼ì¹˜í•˜ë©´ ë¸Œë¼ìš°ì €ëŠ” ì‹¤ì œ ìš”ì²­ì„ ë³´ë‚´ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ë¥¼ ë°˜í™˜ í•œë‹¤.

## **preflight request**

ìœ„ ì‘ë™ë°©ì‹ì—ì„œ ì„¤ëª…í•œ ê²ƒ ì²˜ëŸ¼ Preflight requestëŠ” ì›¹ ë¸Œë¼ìš°ì €ê°€ ì‹¤ì œ ìš”ì²­ì„ ë³´ë‚´ê¸° ì „ì— ë³´ë‚´ëŠ” ìš”ì²­ì´ë©°, ì´ ìš”ì²­ì€ ì‹¤ì œ ìš”ì²­ì´ ì„œë²„ì— ì˜í•´ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬ë  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ ê²ƒì´ë‹¤.

ì´ ìš”ì²­ì€ HTTP OPTIONS ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©°, ì„œë²„ì—ê²Œ ë‹¤ìŒê³¼ ê°™ì€ ì •ë³´ë¥¼ ë³´ë‚¸ë‹¤.

- **HTTP ë©”ì„œë“œ**
- **ìš”ì²­ì˜ ì¶œì²˜**
- **ì‚¬ìš©ì ì§€ì • í—¤ë”**

ì„œë²„ëŠ” ì´ preflight ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ, ì–´ë–¤ ì¶œì²˜, ë©”ì„œë“œ, í—¤ë”ê°€ í—ˆìš©ë˜ëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” 'Access-Control-Allow-Origin', 'Access-Control-Allow-Methods', 'Access-Control-Allow-Headers' ë“±ì˜ CORS ê´€ë ¨ í—¤ë”ë¥¼ ë³´ë‚¸ë‹¤. ë¸Œë¼ìš°ì €ëŠ” ì´ ì‘ë‹µì„ ë°›ì•„, ì‹¤ì œ ìš”ì²­ì´ ì„œë²„ì˜ CORS ì •ì±…ì„ ì¶©ì¡±í•˜ëŠ”ì§€ í™•ì¸í•˜ë©°, ì¶©ì¡±í•œë‹¤ë©´ ì‹¤ì œ ìš”ì²­ì„ ë³´ë‚´ê³ , ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.

## **Express CORS ì˜ˆì œ ì½”ë“œ**

```js
const express = require('express');
const app = express();

app.use((req, res, next) => {
  res.header('Access-Control-Allow-Origin', '*');
  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');
  next();
});

app.get('/', (req, res) => {
  res.send('CORS ì„¤ì • ì™„ë£Œ!');
});

app.listen(3000, () => {
  console.log('Listening on port 3000');
});
```

[CORS(Cross-Origin Resource Sharing)ì´ë€?](https://blog.naver.com/jinseung0327/223368424688)
